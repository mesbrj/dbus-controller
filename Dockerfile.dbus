# Dockerfile for isolated D-Bus session container
FROM ubuntu:22.04

# Install D-Bus and essential tools
RUN apt-get update && \
    apt-get install -y --no-install-recommends \
        dbus \
        dbus-user-session \
        procps \
        curl && \
    apt-get clean && \
    rm -rf /var/lib/apt/lists/*

# Create non-root user
RUN useradd -u 1000 -m -s /bin/bash dbus-user

# Switch to non-root user
USER 1000

WORKDIR /home/dbus-user

CMD ["/bin/bash"]